metadata:
    spot_price|AZ=us-west-2a,instance_type=c3.8xlarge: &spot_prices

        # If no timezone is specified, generator will use YST
        start_time: "2017-08-01T08:00:00Z"
        end_time: "2017-08-01T09:00:00Z"

        frequency:
            distribution: expovariate
            params:
                lambd: 0.0033333   # Assume prices change on average every five minutes

        values:
            distribution: uniform
            params:
                a: 0
                b: 1

    spot_price|AZ=us-west-2b,instance_type=c3.8xlarge: *spot_prices
    spot_price|AZ=us-west-2c,instance_type=c3.8xlarge: *spot_prices

    capacity|region=norcal-prod:
        start_time: "2017-08-01T08:00:00Z"
        end_time: "2017-08-01T09:00:00Z"

        dict_keys:
            - c3.8xlarge,us-west-2a
            - c3.8xlarge,us-west-2b
            - c3.8xlarge,us-west-2c

        frequency:
            distribution: expovariate
            params:
                lambd: 0.001666   # Assume capacity change on average every ten minutes

        values:
            distribution: randint
            params:
                a: 10
                b: 50

app_metrics:
    seagull_runs:
        start_time: "2017-08-01T08:00:00Z"
        end_time: "2017-08-01T09:00:00Z"
        frequency:
            distribution: expovariate
            params:
                lambd: 0.0041666 # 15 seagull runs per hour
        values: 1
